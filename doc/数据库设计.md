数据库设计文档

## 文件修改记录

| 版本 | 日期       | 拟稿   | 制定/修订  内容摘要 |
| ---- | ---------- | ------ | ------------------- |
| 0.01 | 2018-09-15 | 李毅霖 | 编写初稿            |
|      |            |        |                     |
|      |            |        |                     |

## LOTUS(库名:`lotus`)

### 通用字段（无特殊说明所有数据表均包含下列字段）

| 字段名         | 含义     | 字段类型        | 是否可空 | 备注   |
| ----------- | ------ | ----------- | ---- | ---- |
| ID          | ID主键   | NUMBER      | 否    |      |
| CREATE_BY   | 创建者    | VARCHER(50) | 否    |      |
| CREATE_TIME | 创建时间   | TIMESTAMP   | 否    |      |
| UPDATE_BY   | 最后更新者  | VARCHER(50) | 否    |      |
| UPDATE_TIME | 最后更新时间 | TIMESTAMP   | 否    |      |

### T_USER(用户表)

| 字段名         | 含义     | 字段类型         | 是否可空 | 备注                      |
| ----------- | ------ | ------------ | ---- | ----------------------- |
| username | 用户名 | VARCHER(20) | 否   |               |
| real_name | 真实姓名 | VARCHER(20) | 是 |  |
| role_id | 角色ID | NUMBER | 是 |  |
| password | 密码 | VARCHER(50) | 否 | MD5加密， 加盐 |
| gender | 性别 | VARCHER(1) | 否 | 0-男，1-女 |
| department | 部门 | VARCHER(20) | 是 |  |
| position | 职位 | VARCHER(20) | 是 |  |
| last_login_ip | 最后一次登录IP | VARCHER(20) | 是 |  |
| last_login_time | 最后一次登录时间 | TIMESTAMP | 是 |  |
| email | 邮箱 | VARCHER(50) | 是 |  |
| tel | 手机号 | VARCHER(20) | 是 |  |
| status | 状态 | VARCHER(1) | 否 | 0-无效，1-有效， 默认：1 |

### T_ROLE(角色表)

| 字段名    | 含义     | 字段类型     | 是否可空 | 备注 |
| --------- | -------- | ------------ | -------- | ---- |
| role_name | 角色名称 | VARCHER(20)  | 否       |      |
| remark    | 角色描述 | VARCHER(100) | 是       |      |

### T_MENU(菜单表)

| 字段名    | 含义     | 字段类型     | 是否可空 | 备注              |
| --------- | -------- | ------------ | -------- | ----------------- |
| name      | 菜单名称 | VARCHER(20)  | 否       |                   |
| parent_id | 角色描述 | VARCHER(100) | 是       |                   |
| sort      | 排序     | NUMBER       | 否       | 值越小排在越前面  |
| show      | 是否显示 | VARCHER(1)   | 否       | 1-显示，0-不显示  |
| valid     | 是否可用 | VARCHER(1)   | 否       | 1-可用， 0-不可用 |
| desc      | 菜单描述 | VARCHER(50)  | 是       |                   |

### T_ROLE_MENU(角色菜单表)

| 字段名  | 含义   | 字段类型 | 是否可空 | 备注 |
| ------- | ------ | -------- | -------- | ---- |
| role_id | 角色ID | NUMBER   | 否       |      |
| menu_id | 菜单ID | NUMBER   | 否       |      |

### T_RESOURCE(资源表)

| 字段名         | 含义         | 字段类型    | 是否可空 | 备注                          |
| -------------- | ------------ | ----------- | -------- | ----------------------------- |
| name           | 资源名称     | VARCHER(20) |          |                               |
| path           | 资源请求路径 | VARCHER(50) |          |                               |
| request_method | 请求方法     | VARCHER(20) |          | GET、POST、DELETE、PUT        |
| valid          | 是否可用     | VARCHER(1)  |          | 1-可用，0-不可用，默认：1     |
| type           | 验证类型     | VARCHER(1)  |          | 暂定：1-需要验证， 0-无需验证 |
| remark         | 备注         | VARCHER(50) |          |                               |

### T_ROLE_RESOURCE(角色资源表)

| 字段名  | 含义   | 字段类型 | 是否可空 | 备注 |
| ------- | ------ | -------- | -------- | ---- |
| role_id | 角色ID | NUMBER   | 否       |      |
| res_id  | 资源ID | NUMBER   | 否       |      |

### T_DICT(字典表)

| 字段名     | 含义 | 字段类型    | 是否可空 | 备注             |
| ---------- | ---- | ----------- | -------- | ---------------- |
| group_code | 组别 | VARCHER(20) | 否       |                  |
| key        | 主键 | VARCHER(20) | 否       |                  |
| value      | 值   | VARCHER(20) | 否       |                  |
| name       | 名称 | VARCHER(20) | 否       | 值对应的中文表述 |